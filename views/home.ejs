<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=<device-width>, initial-scale=1.0">
    <title>Home Page</title>
    <style>
        body {

            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
    </style>
</head>

<body>
    <h2> Home Page </h2>



    <!-- <% if (locals.shortid) { %>

        <p> Recently Generated Url</p>
        <a href="http://localhost:8000/url/<%= locals.shortid %>" target="_blank">
            http://localhost:8000/url/<%= locals.shortid %>
        </a>
        <% } %> -->

            <form method="POST" action="/url">
                <label>
                    Enter your URL
                </label><br>
                <input type="text" name="url" placeholder="https://expample.com/home"><br>
                <button type="submit">Generate</button>



            </form>

            <div>
                <%# Url list %>
                    <% if(locals.urls){ %>


                        <table>

                            <thead>

                                <th> S. No </th>
                                <th> Shortid </th>
                                <th> Redirect URL </th>
                                <th> Visit History </th>
                            </thead>

                            <tbody>
                                <% locals.urls.forEach((url, index)=> { %>
                                    <tr>
                                        <td>
                                            <%= index+1 %>
                                        </td>
                                        <td>

                                            <a href="http://localhost:8000/url/<%= url.shortid %>" target="_blank">
                                                <%= url.shortid %>
                                            </a>


                                        </td>
                                        <td>
                                            <%= url.redirectUrl %>
                                        </td>
                                        <td>
                                            <%= url.visitHistory.length %>
                                        </td>

                                    </tr>
                                    <% }) %>

                            </tbody>
                        </table>

                        <% } %>
            </div>






</body>

</html>